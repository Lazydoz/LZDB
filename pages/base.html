<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Base</title>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.6/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-4Q6Gf2aSP4eDXB8Miphtr37CMZZQ5oXLH2yaXMJ2w8e2ZtHTl7GptT4jmndRuHDT" crossorigin="anonymous">
</head>
<body>
    
    <div class="container pt-5">

        <h3 class="pb-5">Quản lý BASE</h3>

        <!-- Form thêm/sửa sản phẩm -->
        <form id="product-form" class="row g-3 align-items-end mb-4 py-3 border">
          
          <div class="col-md-2">

            <label class="form-label px-2" for="id">Base ID</label>

            <input type="number" id="id" class="form-control" placeholder="Base ID" required>

          </div>

          <div class="col-md-2">

            <label class="form-label px-2" for="id">Booth ID</label>

            <input type="number" id="id" class="form-control" placeholder="Booth ID" required>

          </div>

          <div class="col-md-2">

            <label class="form-label px-2" for="name">Avatar name</label>

            <input type="text" id="name" class="form-control" placeholder="Name" required>

          </div>

          <div class="col-md-2">

            <label class="form-label px-2" for="img">Image</label>

            <input type="text" id="img" class="form-control" placeholder="link" required>

          </div>

          <div class="col-md-2">

            <label class="form-label px-2" for="brand">Source link</label>

            <input type="text" id="source" class="form-control" placeholder="link" required>

          </div>

          <div class="col-md-2">

            <label class="form-label px-2" for="model">Download link</label>

            <input type="text" id="downloand" class="form-control" placeholder="link" required>

          </div>

          <div class="col-md-2">

            <button type="submit" class="btn btn-success" id="submit-btn">Thêm mới</button>

            <button type="button" class="btn btn-secondary ms-2" onclick="resetForm()">Làm mới</button>

          </div>

        </form>

    </div>

    <div class="container mb-5">

        <div class="input-group">

            <input type="text" class="form-control" placeholder="Booth ID search">

            <button class="btn btn-danger btn-lg">Search</button>

        </div>

    </div>

    <div class="container">

        <table class="table" id="base-table">

            <thead>

                <tr>

                    <th>Base ID</th> <th>Booth ID</th> <th>Name</th> <th>Image</th> <th>Source</th> <th>Download</th> <th>Action</th>

                </tr>

            </thead>

            <tbody></tbody>

        </table>

    </div>
    
    <script>

      // day du lieu cua base len dong
      function loadbase(){

        fetch('api/base')
        .then(res => res.json)
        .then(base => {

          const appear = document.querySelector('#base-table tbody');

          appear.innerHTML = ``;

          base.forEach(b => {

            tbody.innerHTML += `
              <tr>

                <td>${b.base_id}<td>

                <td>${b.booth_id}<td>

                <td>${b.name}<td>

                <td><img src="${b.image}" alt="${b.name}" style="width: 3rem; height: 3rem; object-fit: cover;"><td>

                <td>${b.source || ''}<td>

                <td>${b.download  || ''}<td>

                <td>
                  <button class="btn btn-warning btn-sm" onclick="editProduct('${b.base_id}')">Sửa</button>
                  <button class="btn btn-danger btn-sm" onclick="deleteProduct('${b.base_id}')">Xóa</button>
                <td>

              </tr>
            `;
          });

        })

      }
      loadbase();

      function resetForm() {
        document.getElementById('product-form').reset();
        document.getElementById('submit-btn').textContent = 'Thêm mới';
      }
    </script>
</body>
</html>